var myreg=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,app=angular.module("myWow",["ng","ngRoute"]);app.controller("wowRegist",["$scope","$http","$location",function(e,o,r){e.order={},e.isTrue=!0;var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;e.btnSubmit=function(){if(console.log(e.order),e.order.userId)if(18!=e.order.userId.length)e.userIdLost="身份证长度不得低于18位";else if(e.order.username)if(e.order.mailAddr)if(a.test(e.order.mailAddr))if(mailAddrConf.value!=mailAddr.value)console.log(mailAddrConf.value),e.mailConf="邮箱不一致，请重新输入";else if(!e.order.upwd||e.order.upwd.length<6)e.upwdLost="密码不能为空或长度不够";else if(upwdConf.value!==upwd.value)e.upwdC="密码不一致，请重新输入";else{e.isTrue=!1;var r=$.param(e.order);console.log(r),o.get("data/register.php?"+r).success(function(o){1===o.code?e.usernameLost="姓名或邮箱已被使用":2===o.code&&(sessionStorage.uname=o.name,location.href="main.html")})}else e.mailAddrLost="邮箱格式不正确";else e.mailAddrLost="邮箱地址不能为空";else e.usernameLost="姓名不能为空";else e.userIdLost="身份证信息不能为空"}}]);